<!-- Include custom home.css for additional styling -->
<link rel="stylesheet" href="/css/home.css" />

<!-- Include custom modal.css for styling the modal -->
<link rel="stylesheet" href="/css/modal.css" />

<!-- Form for assigning reviewers to an employee -->
<form action="/api/v1/admin/assign-reviewers" method="post">
  
  <!-- Hidden input to store the employee ID -->
  <input type="hidden" name="employee_id" value="<%= employee.id %>" />
  
  <!-- Modal Header -->
  <div class="modal-header">
    <h1 class="modal-title fs-5" id="exampleModalLabel">Assign Reviewers</h1>
    
    <!-- Button to close the modal -->
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
  </div>
  
  <!-- Modal Body -->
  <div class="modal-body">
    
    <!-- Display employee details at the top of the modal -->
    <div class="flex-center below-header heading">
      <%= employee.fullName %><br>
        <%= employee.email %>
    </div>
    
    <!-- Table for displaying reviewers with checkboxes -->
    <table class="display dataTable" id="assign-reviewers-table">
      <thead>
        
        <!-- Table header with columns: Employee, Email-Id, Select -->
        <tr>
          <th>Employee</th>
          <th>Email-Id</th>
          <th>Select</th>
        </tr>
      </thead>
      <tbody>
        
        <!-- Loop through each reviewer in the 'reviewers' array -->
        <% reviewers.forEach(reviewer=> { %>
          
          <!-- Table row for each reviewer -->
          <tr id="row-id">
            
            <!-- Column for Reviewer's Name -->
            <td>
              <%= reviewer.fullName %>
            </td>
            
            <!-- Column for Reviewer's Email-Id -->
            <td>
              <%= reviewer.email %>
            </td>
            
            <!-- Column for Selecting the Reviewer with a checkbox -->
            <td>
              <input class="form-check-input me-1" type="checkbox" value="<%= reviewer.id %>" id="user-id"
                name="reviewers[]" />
            </td>
          </tr>
          
          <!-- End of loop for each reviewer -->
          <% }) %>
      </tbody>
    </table>
  </div>
  
  <!-- Modal Footer with buttons -->
  <div class="modal-footer">
    
    <!-- Button to cancel and close the modal -->
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
      Cancel
    </button>
   
    <!-- Button to submit the form and assign reviewers -->
    <button type="submit" class="btn btn-success">Assign</button>
  </div>
</form>